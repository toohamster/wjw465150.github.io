<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Groovy解惑-Closure中的owner,this,delegate</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
html,body { 
	/* Default Font */
	font-family: 宋体, Arial, Helvetica, sans-serif;
	font-size: 10pt;
}
</style>

</head>

<body>
<DIV class=postTitle 
style="MARGIN-BOTTOM: 10px; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: bold 14px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A 
id=viewpost1_TitleUrl class=postTitle2 
style="COLOR: rgb(26,139,200); TEXT-DECORATION: none" 
href="http://www.blogjava.net/BlueSUN/archive/2007/12/23/169683.html">Groovy解惑――closure中的owner</A></DIV>
<P><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">在上篇《</SPAN><A 
id=viewpost1_TitleUrl class=postTitle2 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(26,139,200); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; TEXT-DECORATION: none; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" 
href="http://www.blogjava.net/BlueSUN/archive/2007/12/22/169580.html">Groovy解惑――closure中的delegate</A><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">》中，我帮大家讲解了delegate是什么以及其作用。</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">本篇将讲解一下closure中的owner，以及this,delegate以及owner三者间的关系。</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">先让我们来看个例子：</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<DIV 
style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WHITE-SPACE: normal; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; WIDTH: 809px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;OwnerDemo&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;outerClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;outerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innerClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;innerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner&nbsp;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innestClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;innestClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innestClosure()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innerClosure()<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR>def&nbsp;ownerDemo&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;OwnerDemo()<BR>ownerDemo.outerClosure()</SPAN></DIV>
<P><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">运行结果：</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<DIV 
style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WHITE-SPACE: normal; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; WIDTH: 809px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="COLOR: rgb(0,0,0)">the owner of outerClosure: OwnerDemo@eccfe7<BR>the 
owner of innerClosure: OwnerDemo$_closure1@4745cf<BR>the owner of innestClosure: 
OwnerDemo$_closure1_closure2@109dcbb<BR></SPAN></DIV>
<P><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">注意：OwnerDemo$_closure1指的是outerClosure的类名，而OwnerDemo$_closure1_closure2指的是innerClosure的类名</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">通过这个例子，大家就清楚了，</SPAN><B 
style="FONT-SIZE: 13px; FONT-FAMILY: Verdana, Geneva, Arial, Helvetica, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: 19px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">closure的owner引用的是该closure的‘拥有者’</B><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><FONT style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" color=#cc0000><B>那么this, 
delegate以及owner有什么关系呢？<BR>隐式变量delegate的默认值为owner，<BR>如果closure没有‘嵌套’在其他closure中，那么该closure的owner的值为this；<BR>否则该closure的owner引用的是‘直接包含’该closure的closure</B></FONT><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">让我们用事实来说话吧：</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<DIV 
style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WHITE-SPACE: normal; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; WIDTH: 809px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;OwnerDemo&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;outerClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;outerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;delegate&nbsp;of&nbsp;outerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;delegate<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">this&nbsp;in&nbsp;the&nbsp;outerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">this</SPAN><SPAN 
style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innerClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;innerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;delegate&nbsp;of&nbsp;innerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;delegate&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">this&nbsp;in&nbsp;the&nbsp;innerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">this</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;innestClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;owner&nbsp;of&nbsp;innestClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;owner<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">the&nbsp;delegate&nbsp;of&nbsp;innestClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;delegate<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">this&nbsp;in&nbsp;the&nbsp;innestClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">this</SPAN><SPAN 
style="COLOR: rgb(0,0,0)"><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">innestClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;innestClosure<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innestClosure()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">innerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;innerClosure<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;innerClosure()<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR>def&nbsp;ownerDemo&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;OwnerDemo()<BR>def&nbsp;outerClosure&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;ownerDemo.outerClosure<BR>println&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">outerClosure:&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">+</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;outerClosure<BR>outerClosure()</SPAN></DIV>
<P><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">运行结果：</SPAN><BR 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></P>
<DIV 
style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; WHITE-SPACE: normal; BORDER-BOTTOM: rgb(204,204,204) 1px solid; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(75,75,75); PADDING-BOTTOM: 4px; PADDING-TOP: 4px; FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; PADDING-LEFT: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; LETTER-SPACING: normal; PADDING-RIGHT: 5px; WIDTH: 809px; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN 
style="COLOR: rgb(0,0,0)">outerClosure: OwnerDemo$_closure1@10cc9b4<BR>the owner 
of outerClosure: OwnerDemo@8e7f54<BR>the delegate of outerClosure: 
OwnerDemo@8e7f54<BR>this in the outerClosure: OwnerDemo@8e7f54<BR>innerClosure: 
OwnerDemo$_closure1_closure2@1eb1db2<BR>the owner of innerClosure: 
OwnerDemo$_closure1@10cc9b4<BR>the delegate of innerClosure: 
OwnerDemo$_closure1@10cc9b4<BR>this in the innerClosure: 
OwnerDemo@8e7f54<BR>innestClosure: 
OwnerDemo$_closure1_closure2_closure3@12a78ee<BR>the owner of innestClosure: 
OwnerDemo$_closure1_closure2@1eb1db2<BR>the delegate of innestClosure: 
OwnerDemo$_closure1_closure2@1eb1db2<BR>this in the innestClosure: 
OwnerDemo@8e7f54<BR><BR></SPAN></DIV>
<P><SPAN 
style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FLOAT: none; COLOR: rgb(75,75,75); FONT: 13px/19px Verdana, Geneva, Arial, Helvetica, sans-serif; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">大家可以从其中值的关系看出this, 
delegate以及owner三者的关系与我们之前所说的相符　:)</SPAN></P></body>
