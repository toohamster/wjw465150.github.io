<!-- saved from url=http://www.cstc.org.cn/tabid/88/InfoID/82985/Default.aspx -->
<script>
window.onerror = new Function("return(false);")
</script><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML lang=zh-CN><HEAD id=Head><title>{!!!}nmon使用指南</title>
<STYLE id=StylePlaceholder></STYLE>
<LINK id=_Portals__default_ rel=stylesheet type=text/css 
href="default.css"><LINK id=_Portals__default_Containers_Null_ 
rel=stylesheet type=text/css 
href="container.css"><LINK 
id=_Portals_0_Containers_news_bian_ rel=stylesheet type=text/css 
href="container.css"><LINK id=_Portals_0_ 
rel=stylesheet type=text/css href="portal.css"><LINK 
id=_Portals_0_GeneralModules_dl007_ rel=stylesheet type=text/css 
href="GeneralModule.css"></HEAD>

<BODY style="MARGIN: 0px" id=Body>

<FORM style="HEIGHT: 100%" id=Form encType=multipart/form-data method=post 
name=Form action=/tabid/88/InfoID/82985/Default.aspx>

<TABLE border=0 cellSpacing=0 cellPadding=0 width=1000 align=center height=30>

<TBODY>

<TR>

<TD id=ess_newsPane vAlign=top width=791>

<TABLE 
style="BORDER-TOP: medium none; BORDER-RIGHT: #999999 1px solid; BORDER-BOTTOM: #999999 1px solid; BORDER-LEFT: #999999 1px solid" 
border=0 cellSpacing=0 cellPadding=0 width=800 align=center>

<TBODY>

<TR>

<TD id=ess_ctr1470_contentpane align=left>

<DIV id=ess_ctr1470_ModuleContent>

<TABLE class=normal border=0 cellSpacing=1 cellPadding=3 width="96%" 
align=center>

<TBODY>

<TR>

<TD>
<FONT style="FONT-SIZE: 14px; LINE-HEIGHT: 23px" id=zoom><!--StartFragment-->
<P style="LINE-HEIGHT: 150%">为了实时监控系统在一段时间内的使用情况并将结果记录下来，我们可以通过运行以下命令实现：</P>
<P style="LINE-HEIGHT: 150%">#./ nmon -f -t -s 30 -c 180</P>
<P style="LINE-HEIGHT: 150%">n 
-f：按标准格式输出文件：&lt;hostname&gt;_YYYYMMDD_HHMM.nmon；</P>
<P style="LINE-HEIGHT: 150%">n -t：输出中包括占用率较高的进程；</P>
<P style="LINE-HEIGHT: 150%">n -s 30：每30秒进行一次数据采集</P>
<P style="LINE-HEIGHT: 150%">n -c 180：一共采集180次</P>
<P 
style="LINE-HEIGHT: 150%">&nbsp;&nbsp;&nbsp;&nbsp;输入命令回车后，将自动在当前目录生成一个hostname_timeSeries.nmon的文件，如果hosname为test1，生产的文件为：test1_090308_1313.nmon。</P>
<P style="LINE-HEIGHT: 150%">通过sort命令可以将nmon结果文件转换为csv文件：</P>
<P style="LINE-HEIGHT: 150%"># sort -A test1_090308_1313.nmon &gt; 
test1_090308_1313.csv</P>
<P style="LINE-HEIGHT: 150%">执行完sort命令后即可在当前目录生产test1_090308_1313.csv文件。</P>
<P style="LINE-HEIGHT: 150%">3.2 生成图形化结果</P>
<P 
style="LINE-HEIGHT: 150%">&nbsp;&nbsp;&nbsp;&nbsp;为了分析nmon监控获得的结果，IBM还提供了相应的图形化分析工具nmon_analyser，通过nmon 
analyser.xls工具可以把监控的结果文件转换成excel文件，方便分析系统的各项资源占用情况。</P>
<P style="LINE-HEIGHT: 150%">nmon analyser.xls工具的使用方法如下：</P>
<P style="LINE-HEIGHT: 150%">1、 打开nmon analyser.xls工具；</P>
<P style="LINE-HEIGHT: 150%">2、 调整excel宏安全性：工具-宏-安全性</P>
<P style="LINE-HEIGHT: 150%">（修改安全级别与可靠发行商）</P>
<P style="LINE-HEIGHT: 150%">（选择）安全级别：低</P>
<P style="LINE-HEIGHT: 150%">（勾上）信任所有安装的加载项和模板</P>
<P style="LINE-HEIGHT: 150%">（勾上）信任对于“Visual Baisc项目”的访问</P>
<P style="LINE-HEIGHT: 150%">3、 修改完后，确定-关闭nmon analyser.xls，重新打开；</P>
<P style="LINE-HEIGHT: 150%">4、 点击Analyse nmon 
data按钮，加载之前下载的test1_090308_1313.csv文件。</P>
<P style="LINE-HEIGHT: 150%">以下是分析结果的截图：</P>
<P style="TEXT-ALIGN: center; LINE-HEIGHT: 150%" Command="ImageManager"><IMG 
border=0 alt="" src="hegaoji1.jpg" width=600 
height=324><BR>如图 1</P>
<P style="LINE-HEIGHT: 150%">以上就是nmon的简单描述与使用介绍，大家可以根据自己所采集到的结果分析系统的情况</P><!--EndFragment--></FONT>
</TD>
</TR>
</TBODY>
</TABLE>
</DIV>
</TD>
</TR>
</TBODY>
</TABLE>
</TD>
</TR>
</TBODY>
</TABLE></FORM>
</BODY>
</HTML>