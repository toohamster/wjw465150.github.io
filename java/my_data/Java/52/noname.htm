<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META content="text/html; charset=gb2312" http-equiv=Content-Type>
<META name=GENERATOR content="MSHTML 9.00.8112.16447">
<title>spring 使用 groovy 的 utf-8 问题</title>
</HEAD>
<BODY>
<DIV class="content TextContent">
  <P>spring 中使用动态 groovy bean 没有可设置 groovy 脚本文件的编码，是使用系统默认的编码。工作中，服务器上的系统默认编码不是 
    utf-8，郁闷，写的 groovy 是用 utf-8 编码。程序一发布到服务器上运行结果不正确。</P>
  <P>spring 中的 xml 没能配置文件编码，就连在 spring 的xml 内嵌 groovy 脚本都无法使 groovy 
    正常运行。记得之前的程序是改变系统默认编码的方式来运行 java 程序。那也拿来用用。</P>
  <P>java 有个启动属性参数：file.encoding 。好就用它：</P>
  <P>$JAVA_HOME/bin/java -<SPAN class=command>cp</SPAN><SPAN> . <BR>
    -Dclient.encoding.override=UTF-8 <BR>
    -Dfile.encoding=UTF-8 <BR>
    -Duser.language=zh <BR>
    -Duser.region=CN <BR>
    -Djava.ext.</SPAN><SPAN 
class=command>dirs</SPAN><SPAN>=../lib com.chenlb.demo.Main </SPAN><SPAN 
class=string>"hi chenlb"</SPAN><SPAN> </SPAN></P>
  <P>其实只要 file.encoding 就可以了，其它是从旧的程序复制过来。</P>
  <P>还有一种方案就是把 groovy 的中文改用其它方式表示，用 native2ascii 转换它，印象中可行。</P>
</DIV>
<!--EndFragment-->
</BODY>
</HTML>
