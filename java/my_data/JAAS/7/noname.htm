<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">

<HTML dir=ltr xml:lang="zh-CN" 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>完全脱离繁琐的acegi，自己设计一套权限控制</TITLE><LINK 
href="favicon.ico" type=image/x-icon rel="shortcut icon"><LINK 
title=JavaEye论坛 href="Java" type=application/rss+xml 
rel=alternate><LINK media=screen 
href="forum.css_1257050886" type=text/css 
rel=stylesheet>
<LINK media=screen 
href="SyntaxHighlighter.css_1201588027" 
type=text/css rel=stylesheet>
</HEAD>

<BODY>

<DIV id=page>

<DIV class=clearfix id=content>

<DIV id=main>

<TABLE id=forum_main cellSpacing=1>

<TBODY id=posts>

<TR id=1230467>

<TD class=postcontent>

<DIV class="postbody clearfix"><!--StartFragment-->用户表 <BR>CREATE TABLE `users` ( <BR>&nbsp; `id` int(10) NOT NULL AUTO_INCREMENT, <BR>&nbsp; 
`username` varchar(100) NOT NULL, <BR>&nbsp; `fast` int(10) NOT NULL DEFAULT '0', 
<BR>&nbsp; `loginname` varchar(100) NOT NULL, <BR>&nbsp; `loginpass` varchar(100) DEFAULT 
NULL, <BR>&nbsp; `importuserid` int(255) DEFAULT NULL COMMENT '创建人', <BR>&nbsp; 
`importdate` datetime DEFAULT NULL COMMENT '创建时间', <BR>&nbsp; PRIMARY KEY (`id`) 
<BR>) <BR><BR>角色表 <BR>CREATE TABLE `role` ( <BR>&nbsp; `id` int(10) NOT NULL 
AUTO_INCREMENT, <BR>&nbsp; `groupname` varchar(100) NOT NULL, <BR>&nbsp; `fast` int(11) 
NOT NULL DEFAULT '0', <BR>&nbsp; `importdate` datetime NOT NULL, <BR>&nbsp; `importuserid` 
int(11) NOT NULL ， <BR>&nbsp; PRIMARY KEY (`id`) <BR>) <BR><BR><BR>角色和用户关联表 
<BR>CREATE TABLE `roleanduser` ( <BR>&nbsp; `groupid` int(11) NOT NULL, <BR>&nbsp; 
`userid` int(11) NOT NULL <BR>) <BR><BR>角色权限关联表 <BR>CREATE TABLE `roleandright` 
( <BR>&nbsp; `groupid` int(10) NOT NULL, <BR>&nbsp; `rightid` int(10) NOT NULL <BR>) 
<BR><BR>权限表 <BR>CREATE TABLE `right` ( <BR>&nbsp; `id` int(10) NOT NULL, <BR>&nbsp; 
`rightpath` varchar(200) NOT NULL, <BR>&nbsp; `isShow` int(11) NOT NULL DEFAULT '0' 
COMMENT '1表示不显示0表示显示', <BR>&nbsp; `importdate` datetime NOT NULL, <BR>&nbsp; 
`importuserid` int(10) NOT NULL, <BR>&nbsp; `coding` int(11) DEFAULT NULL, <BR>&nbsp; 
`isLeaf` int(11) DEFAULT NULL, <BR>&nbsp; `backinfo` varchar(1000) NOT NULL DEFAULT 
'' COMMENT '备注', <BR>&nbsp; PRIMARY KEY (`id`) <BR>) 
<BR><BR><BR>个人感觉用spring的acegi还不如按照自己的表结构设计权限，完成脱离acegi的繁琐配置 
<BR>！！！！！！！！！！！！！如有更好的建议，欢迎大家指正！！！！！！！！！！ <!--EndFragment--></DIV>
</TD>
</TR>
</TBODY>
</TABLE>
</DIV>
</DIV>
</DIV>
</BODY>
</HTML>