<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>ajax请求中form data与request payload之间的区</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style>
html,body { 
	/* Default Font */
	font-family: Arial, Helvetica, sans-serif;
	font-size: 11pt;
}
</style>

</head>

<body><EM 
style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(1,1,1); FONT: 12px/18px 宋体, tahoma, Srial, helvetica, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><EM 
style="FONT-STYLE: normal">
<DIV id=text 
style="OVERFLOW: hidden; FONT-SIZE: 14px; WIDTH: 570px; WHITE-SPACE: normal; MARGIN-LEFT: auto; MARGIN-TOP: 10px; LINE-HEIGHT: 24px; MARGIN-RIGHT: auto">
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">HTTP请求过程中，get请求：表单参数以name=value&amp;name1=value1的形式附到url的后面；</P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">post请求：表单参数是在请求体中，也是name=value&amp;name1=value1的形式在请求体中。</P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">POST表单请求提交时，使用的Content-Type是application/x-www-form-urlencoded，而使用原生AJAX的POST请求如果不指定请求头RequestHeader，默认使用的Content-Type是text/plain;charset=UTF-8。</P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">在html中form的Content-type默认值：Content-type：application/x-www-form-urlencoded</P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">如果使用ajax请求，在请求头中出现&nbsp;request 
payload导致参数的方式改变了 ,那么解决办法就是：</P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px"><SPAN>headers: 
{<SPAN>'Content-Type':<SPAN>'application/x-www-form-urlencoded'}</SPAN></SPAN></SPAN></P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px"><SPAN>或者使用ajax设置：</SPAN></P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px"><SPAN>$.ajaxSetup({contentType: 
'application/x-www-form-urlencoded'});</SPAN></P>
<P 
style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 15px auto 0px; BORDER-LEFT: medium none; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px"><SPAN>这样，问题就可以解决。</SPAN></P></DIV></EM></EM></body>
</html>
