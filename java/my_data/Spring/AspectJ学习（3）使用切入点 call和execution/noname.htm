<!-- saved from url=http://www.blogjava.net/kafka0102/archive/2007/07/12/129759.html -->
<script>
window.onerror = new Function("return(false);")
</script><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML><HEAD 
id=Head><TITLE>AspectJ学习（3）使用切入点 call和execution </TITLE><LINK 
id=MainCss href="style.css" 
type=text/css rel=stylesheet><LINK id=RSSLink title=RSS 
href="rss.aspx" type=application/rss+xml 
rel=alternate></HEAD>

<BODY>

<FORM id=Form1 name=Form1 action=129759.html method=post 
_initialAction="129759.html">

<DIV id=main>

<DIV class=post><!--StartFragment--><DIV class=postTitle><A id=viewpost1_TitleUrl 
href="http://www.blogjava.net/kafka0102/archive/2007/07/12/129759.html">AspectJ学习（3）使用切入点 
call和execution</A> </DIV>
<DIV class=postText>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; call</FONT> </FONT><FONT 
face=Monospace><FONT size=2>和</FONT> </FONT><FONT face=Monospace><FONT 
size=2>execution</FONT> </FONT><FONT face=Monospace><FONT size=2>的指示符分别为</FONT> 
</FONT><FONT face=Monospace><FONT size=2><FONT color=#000000><FONT 
face=Monospace><FONT size=2><SPAN>call</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>（</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>Method-Signature</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>）、</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>execution</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>（</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>Method-Signature</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><SPAN>），匹配方法签名的方法或构造函数的执行。</SPAN> </FONT></FONT></FONT><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>对于</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>call</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT 
size=2><SPAN>来说，调用的连接点位于方法调用点的调用代码处；对于</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>execution</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT 
size=2><SPAN>来说，执行的连接点位于方法执行的位置。也就是说，</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>call</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>和</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>execution</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>的重要区别在于它们传递了哪些类型给</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>AspectJ</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>编译器以用来与</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>aspect</SPAN> 
</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#800000><FONT face=Monospace><FONT size=2><SPAN>进行链接。</SPAN> 
</FONT></FONT></FONT></FONT></FONT></FONT></P>
<P align=left><FONT color=#000000><FONT face=Monospace><FONT 
size=2></FONT></FONT><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 通常，我们在使用</FONT> 
</FONT><FONT face=Monospace><FONT size=2>call</FONT> </FONT><FONT 
face=Monospace><FONT size=2>和</FONT> </FONT><FONT face=Monospace><FONT 
size=2>execution</FONT> </FONT><FONT face=Monospace><FONT 
size=2>时，从效果上来看并不会觉察出二者的区别。下面给出一个例子说明</FONT> </FONT><FONT face=Monospace><FONT 
size=2>call</FONT> </FONT><FONT face=Monospace><FONT size=2>和</FONT> 
</FONT><FONT face=Monospace><FONT size=2>execution</FONT> </FONT><FONT 
face=Monospace><FONT size=2>的运行时机及区别。</FONT> </FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2><FONT color=#7f0055><B>&nbsp;&nbsp;&nbsp; &nbsp; </P>
<DIV 
style="BORDER-RIGHT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: rgb(204,204,204) 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: rgb(204,204,204) 1px solid; WIDTH: 98%; PADDING-TOP: 4px; BORDER-BOTTOM: rgb(204,204,204) 1px solid; BACKGROUND-COLOR: rgb(238,238,238)"><!--<br><br>Code highlighting produced by Actipro CodeHighlighter (freeware)<br>http://www.CodeHighlighter.com/<br><br>--><SPAN 
style="COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;A&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;foo(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">A.foo()</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">"</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR><BR></SPAN><SPAN 
style="COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">class</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;Main&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;callFoo(A&nbsp;a){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.foo();<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">public</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">static</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">void</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main&nbsp;m&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">=</SPAN><SPAN style="COLOR: rgb(0,0,0)">&nbsp;</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;Main();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.callFoo(</SPAN><SPAN 
style="COLOR: rgb(0,0,255)">new</SPAN><SPAN 
style="COLOR: rgb(0,0,0)">&nbsp;A());<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>}</SPAN></DIV><BR></B></FONT></FONT></FONT></FONT>
<P></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1</FONT> </FONT><FONT face=Monospace><FONT 
size=2>）现在我看一下下面使用</FONT> </FONT><FONT face=Monospace><FONT size=2>call</FONT> 
</FONT><FONT face=Monospace><FONT size=2>的切面：</FONT> </FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;</FONT> </FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <IMG height=199 
alt=aspectj.png src="aspectj.png" width=386 
border=0></FONT> </FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left></P>&nbsp;&nbsp;&nbsp; 
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 该切面定义了一个切入点</FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>callA(Object o,Object t)</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>，其中</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>this</B></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2>(o)</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>表示将匹配的连接点的对象赋给</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>o</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>，</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>target</B></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2>(t)</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>表示将匹配的连接点的目标对象赋给</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>t</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>。输出结果为：</FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><BR></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <IMG height=159 
alt=aspectj-3.png src="aspectj-3.png" width=660 
border=0></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
&nbsp;</FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 输出表明，</FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>this</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>的类（调用类）为</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>Main</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>，</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>target</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>的类（目标类）为</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>A</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>。</FONT></FONT></FONT>我们再看一下</FONT></FONT><FONT face=Monospace><FONT 
size=2>Main</FONT></FONT><FONT face=Monospace><FONT 
size=2>类：</FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><BR></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <IMG height=225 alt=aspectj-2.png 
src="aspectj-2.png" width=406 
border=0></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><BR></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
在</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2>AJDT</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>下，可以看到，</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>call</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>切入点匹配的位置在调用类（</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>Main</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>）的方法</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>void</B></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2> callFoo(A 
a)</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2>中，而不是在目标类</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>A</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>中。</FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
2</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2>）再来看一下</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2><SPAN>execution</SPAN></FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2><SPAN>的例子：</SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><BR><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2><SPAN></SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <IMG height=187 
alt=aspectj-4e.png src="aspectj-4e.png" width=540 
border=0></SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><SPAN><BR></SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>&nbsp;&nbsp; &nbsp;&nbsp; <IMG height=127 
alt=aspectj-f.png src="aspectj-f.png" width=335 
border=0></SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><SPAN><BR></SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
在这个方面中，切入点没有使用</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>this</B></FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>和</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>target</B></FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>，而是在</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>before</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>通知中使用了</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>AspectJ</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>的</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>API</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>达到同样的效果。可以看到，切入点</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>executionA()</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>匹配的连接点的位置在</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>A</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>的</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>foo()</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>方法，这和上面的</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>call</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>匹配的连接点的位置是不同的。</FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <IMG height=173 
alt=aspectj-7t.png src="aspectj-7t.png" width=622 
border=0><BR></FONT></FONT></FONT></FONT></FONT></P><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2><SPAN></SPAN></FONT></FONT></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp; &nbsp; 
<BR></FONT></FONT></FONT></FONT></FONT>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
</FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face=Monospace><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
从输出可以看到，在</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>execution</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>中，</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>this</B></FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>和</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>target</B></FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>指向同一个类</B></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2>。在</FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>call</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>中，</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>this</B></FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2>和</FONT></FONT></FONT></FONT></FONT><FONT face=Monospace><FONT 
size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>target</B></FONT></FONT></FONT></FONT></FONT><FONT 
face=Monospace><FONT size=2><FONT color=#7f0055><FONT face=Monospace><FONT 
size=2><B>不是指向同一个类</B></FONT></FONT></FONT><FONT color=#000000><FONT 
face=Monospace><FONT size=2><B>。</B></FONT></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; execution</FONT></FONT><FONT 
face=Monospace><FONT size=2>与</FONT></FONT><FONT face=Monospace><FONT 
size=2>call</FONT></FONT><FONT face=Monospace><FONT 
size=2>还有一点很重要的区别。对于继承类来说，如果它没有覆盖父类的方法，那么</FONT></FONT><FONT 
face=Monospace><FONT size=2>execution</FONT></FONT><FONT face=Monospace><FONT 
size=2>不会匹配子类中没有覆盖父类的方法。比如说我们有一个类</FONT></FONT><FONT face=Monospace><FONT 
size=2>B</FONT></FONT><FONT face=Monospace><FONT size=2>继承于</FONT></FONT><FONT 
face=Monospace><FONT size=2>A</FONT></FONT><FONT face=Monospace><FONT 
size=2>，但没有覆盖</FONT></FONT><FONT face=Monospace><FONT 
size=2>A</FONT></FONT><FONT face=Monospace><FONT size=2>类的</FONT></FONT><FONT 
face=Monospace><FONT size=2>foo()</FONT></FONT><FONT face=Monospace><FONT 
size=2>，那么对于</FONT></FONT><FONT face=Monospace><FONT size=2>B</FONT></FONT><FONT 
face=Monospace><FONT size=2>的实例的</FONT></FONT><FONT face=Monospace><FONT 
size=2>foo()</FONT></FONT><FONT face=Monospace><FONT 
size=2>方法，</FONT></FONT><FONT face=Monospace><FONT size=2>execution(* 
B.foo())</FONT></FONT><FONT face=Monospace><FONT 
size=2>将不会被匹配。</FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2></FONT></FONT><FONT face=Monospace><FONT size=2>&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp; 做个总结，如果想跟踪连接点的内部代码运行情况可以考虑使用</FONT></FONT><FONT face=Monospace><FONT 
size=2>execution</FONT></FONT><FONT face=Monospace><FONT 
size=2>，但如果你只关心连接点的签名（比如你使用第三方库或是标准</FONT></FONT><FONT face=Monospace><FONT 
size=2>API</FONT></FONT><FONT face=Monospace><FONT 
size=2>），则使用</FONT></FONT><FONT face=Monospace><FONT 
size=2>call</FONT></FONT><FONT face=Monospace><FONT 
size=2>。</FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT face="文鼎PL细上海宋Uni, serif"><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT 
size=2><SPAN></SPAN></FONT></FONT></FONT></FONT></FONT><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT size=2><SPAN>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
注：该文参考了《</SPAN></FONT></FONT></FONT></FONT><FONT face="文鼎PL细上海宋Uni, serif"><FONT 
size=2><FONT color=#000000><FONT face=Monospace><FONT size=2><SPAN>Eclipse 
AspectJ</SPAN></FONT></FONT></FONT></FONT></FONT><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><SPAN>》和《</SPAN></FONT></FONT></FONT></FONT><FONT 
face="文鼎PL细上海宋Uni, serif"><FONT size=2><FONT color=#000000><FONT 
face=Monospace><FONT size=2><SPAN>AspectJ 
cookbook</SPAN></FONT></FONT></FONT></FONT></FONT><FONT size=2><FONT 
color=#000000><FONT face=Monospace><FONT 
size=2><SPAN>》。</SPAN></FONT></FONT></FONT></FONT></P>
<P style="MARGIN-BOTTOM: 0cm" align=left><FONT color=#000000><FONT 
face=Monospace><FONT size=2><BR></FONT></FONT></FONT></P></DIV><!--EndFragment--></DIV>
</DIV>
</FORM>
</BODY>
</HTML>